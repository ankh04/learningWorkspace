# CORS
使用 `CORS` 需要前后端配合。
### 对于后端
应当在响应头中加入
```json
{

'Access-Control-Allow-Credentials': true,

'Access-Control-Allow-Origin': req.headers.origin || '*',

'Access-Control-Allow-Headers': 'X-Requested-With,Content-Type',

'Access-Control-Allow-Methods': 'PUT,POST,GET,DELETE,OPTIONS',

'Content-Type': 'application/json; charset=utf-8',

}
```
这些字段，把项目地址放入`Access-Control-Allow-Origin`.

对于需要跨域写入`cookie`的，需要把`Access-Control-Allow-Credentials`设置为`true`，值得注意的是，如果前者设置为`true`，那么`Access-Control-Allow-Origin`必须位具体值而不能是`*`.
### 对于前端
前端的请求头应该是`Access-Control-Allow-Headers`中所定义的部分，请求方法应当是`Access-Control-Allow-Methods`所定义的部分。

对于需要跨域写入`cookie`的，需要设置`withCredentials`为`true`，注意到，这里的`withCredentials`**并不是请求头**，而应当根据`xhr`的具体要求进行设置。
