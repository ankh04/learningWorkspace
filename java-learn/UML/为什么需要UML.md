# 为什么需要UML
## 面向过程还是面向对象
面向过程还是面向对象是一个古已有之的**认识论**问题:

**面向过程**的人眼中的世界的一切都不是孤立的,它们互相紧密的联系在一起,缺一不可,互相影响,世界是由一个个具有严格因果律的小系统所组成的.

**面相对象**的人眼中的世界都是由对象组成,相互独立的对象在不同的驱动力和规则下体现出不同的运动过程,这些运动过程最终体现出了我们的世界.

### 面向过程方法
面向过程方法认为每个小系统有着**明确的开始**和**明确的结束**,在开始和结束之间有着严谨的**因果关系**,只要我们将这个小系统中的每一个步骤和影响这个小系统走向的所有因素都分析清楚,我们就能完全定义这个系统的行为.

所以,当我们要通过计算机来模拟这个世界的时候,首要的工作就是把开始和结束的状态分析出来,并分析开始和结束的过程; 再通过结构化的设计方法对这个过程进行细化.
简单来说,就是找到整个过程的起点,然后顺藤摸瓜,分析每一个部分,直达过程的终点; 过程中的每一个部分都是整个过程不可分割的一环.

##### **面向过程方法的常用模型**
- DFD图: 输入数据 -> 功能计算 -> 输出数据
在上述过程中可以发现,数据是十分重要的,数据的正确性和完备性对整个系统至关重要.人们为了更好的管理数据,因此发展出了**关系理论**(即[[关系型数据库三大范式|数据库的三大范式]])来保证数据的完备性和一致性.
- 在上述过程中产生了 ER 模型
后来的需求越来越复杂,系统越来越庞大,一个数据经常被多个过程共享,分析和设计变得越来越困难,于是IBM在20实际70年代提出了UC矩阵的方法解决**功能和数据依赖**的问题.
该模型将功能和数据分别作为横纵坐标来构建一个二维矩阵,在每个坐标点上标记当前功能点对数据的要求:U(Use)和C(Create). 标记完成后,再对这个矩阵进行调整,尽量将 C 放在整个矩阵的对角线上,这时功能点对数据的交叉依赖是最小的.
- UC矩阵 

##### **面向过程方法面临的困难**
尽管人们想出了很多很有用的模型对庞大系统机型分析和优化,但是能够进行这样的分析是有一定前提的,那就是整个过程是稳定的. 
由于面相过程方法的分析都是一步接一步的,整个过程稳定才能保证我们的分析过程是稳定的. 如果过程发生了变化(比如项目需求突然发生了变化), 我们所做的步步分析就可能推倒重来.

##### **从面向过程到面向对象**
其实并非是面向过程的方法不正确,是因为构成一个系统的因素太多了,而且系统也是经常变化的,如果要把全部的因果关系都分析清楚,那么这个过程将十分困难,我们的精力有限,算力有限(现实中的许多事都需要面临有限的资源),因此只能放弃对整个过程的分析,寻找一个可以将大系统拆分成一个个我们可以控制的小单元.
这样转化正如:如果一次成型一辆汽车太过困难,我们可以讲汽车拆成很多零件,分步制造,再依据先设计好的接口把它们安装在一起,行程最终的产品.

### 面相对象的方法
面向对象方法将世界看作一个个相互独立的对象,在没有外力的情况下,每个对象都是"静止"的,只有在某个外部驱动力的作用下才会按某种规律互相传递信息,形成一个"过程"
对象有很多有趣的特性:
- 封装: 在外部看来,对象就是一个黑匣子,只能通过特定的消息通道与外界交互信息
- 聚合: 多个对象结合在一起形成新的对象,新对象具有组成它的对象的特性
- 继承: 对象可以繁育,对象产下的孩子有父辈的全部本领
- 接口: 对象可以根据不同的要求展现出不同的特性
- 多态: 许多对象可能长着相同的脸,但这张脸后面却有着不同的行为
从上面的特性中可以总结出:每个对象都只与有限的其他对象有关系,每个对象不再需要从整个系统的角度来分析,只需要关系与它有关系的对象即可. 自然这会降低我们所面对的复杂度.
另外一个重要的特点是:对象可以复用.

##### **面相对象面临的困难**
- 最常见的困惑是,一个对象是怎么被抽象出来的?为什么是这么抽象而不是那么抽象呢?
- 对象之间怎么组合才是好的呢?什么样的组合是差的呢?
- 怎样理解一个对象组合的含义呢?

很多架构师在被要求验证他们的设计能满足需求的时候,往往会说他们的设计使用了**某某[[设计模式]]**,这个结构很灵活,扩展性很强,肯定能满足需求...

## UML带来了什么
上文论述了面相对象往往会带来许多困惑, 而UML正好带来了我们所需要的:
- 一种把**现实世界**映射到**对象世界**的方法
- 一种从**对象世界**描述**现实世界**的方法
- 一种**验证**对象世界行为是否正确反应了现实世界的方法

### 什么是UML
第一种面向对象语言[[Smalltalk]]的诞生宣告了面向对象开始进入软件领域, 当时出现了很多面向对象的设计方法(OOD): GOOD, HOOD, OOSE等
由于客户需求时常变化,分析变得比设计更为重要,于是OOA(面相对象分析)方法开始出现, 它便是UML的前身.
之后 Booch, Jacobson, Rumbaugh 三位面相对象大师将他们各自的方法统一起来,推出了"统一建模语言"("Unified Modeling Language") UML.

