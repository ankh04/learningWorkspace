现实中的IPv4显然是不够用的, 因此需要

ISP维护了一个NAT路由器, 里边存放着NAT转换表

**举例**
子网下的某个终端指派了3333端口发送了一个网络请求.

当这个网络请求来到NAT路由器, 会把内网的IP替换成公网IP.
但是, 仅仅替换IP是不够的, 考虑以下场景:

终端A指派了3333端口发送网络请求, 终端B也同时指派了3333端口发送网络请求.
在经过了替换IP的操作后, 这两次网络请求竟变成了完全相同的请求.

因此还需要在替换IP后, 更改端口号, 一个NAT路由器下的所有终端的网络请求都会替换一个唯一的端口号.


当NAT路由器接受到远程服务器的返回消息时, 再根据NAT转换表更改分组中的IP和端口号, 发送给用户终端.