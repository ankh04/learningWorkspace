**问题:** 当一台终端接入某个局域网后, 是如何获得该子网下的地址呢?
**回答:** 通过 DHCP 服务器

## DHCP协议
DHCP是一个即插即用的协议, 当终端连接到子网时, 会*自动地*为它分配ip地址

DHCP是客户-服务器架构(C/S)的协议

实现DHCP协议的子网中一定会有: 一个DHCP服务器 或 DHCP中继代理

#### DHCP的通信步骤
1. 终端向67号端口广播UDP*发现报文*
2. DHCP服务器向68号端口广播UDP*响应报文*
3. 由于可能会有多个DHCP服务器, 终端需要从得到的ip中选一个, 并广播*请求报文*
4. DHCP服务器发送ACK*确认报文*

经过上述四个步骤, 终端就得到了它在这个子网中唯一的ip.