早期的计算机都是使用打孔纸带使用的.
程序员需要写程序, "输入"程序, 传递纸带等操作, 导致计算机的使用效率极低.

之后人们考虑设计可以像==流水线般==执行多个程序的*操作系统*, 从而出现了*批处理系统*

用力过猛的MULTICS


## 特权机制
因为批处理操作系统也是程序, 我们需要确保在批处理操作系统上的程序不会影响到操作系统本身.

特权机制需要硬件和软件的配置


为确保操作系统的安全, 对应用程序而言, 有两方面的限制:
- 应用程序不能访问任意的地址空间
- 应用程序不能执行可能破坏计算机系统的指令


当应用程序需要调用操作系统提供的功能时, 会使用`ecall`, `eret`指令.


RISC-V有四种特权级别: U S H M

H特权级RISC规范还没设定好
M级别--RustSBI 启动引导程序
S级别-- 操作系统
U级别 -- 应用程序


使用ecall调用的功能和调用函数是不一样的==控制流==, 是*异常控制流*

RISCV的异常表
![](https://picture-bed-1301848969.cos.ap-shanghai.myqcloud.com/20220502205551.png)


